<h1 id="ahowto">A HOWTO</h1>

<p>Index</p>

<ol>
<li>A Really Simple Use Case.</li>
</ol>

<h2 id="areallysimpleusecase.">A Really Simple Use Case.</h2>

<p>Let&#8217;s just get to it. At the command line start iPython.</p>

<p>First we need to make some simulated trials. Let&#8217;s say the experiment we want to model had only one condition, excluding the baseline, with 60 trials. Further let&#8217;s assume that there equal numbers of and experimental and baseline trials and experimental conditions were randomly interspersed.</p>

<p>First we need numpy</p>

<pre><code>import numpy as np
</code></pre>

<p>Now make 60 baseline (0) and experimental trials (1) then randomize their order.</p>

<pre><code>trials = np.array([0,]*60 + [1,]*60)
np.random.shuffle(trials) 
    ## done in place
</code></pre>

<p>Now import the simfMRI module and create an instance using the simulated trials we just made. We have no data for parametric models (so data = {}, an empty dictionary, and both the ISI and TR are 2 seconds).</p>

<pre><code>from simfMRI import base.ERfMRI
expi = ERfMRI(trials=trials,data={},TR=2,ISI=2)
</code></pre>

<p>Finally run the experiment.</p>

<pre><code>results = expi.run('test')
</code></pre>

<p>Or if you want to run 100 iterations with different simulated trials for each you would do:</p>

<pre><code>import numpy as np
from simfMRI import base.ERfMRI

# Were going to make a list of results.
results = []
for i in range(100):
    trials = np.array([0,]*60 + [1,]*60)
    trials = np.random.shuffle(trials)

    expi = ERfMRI(trials=trials,data={},TR=2,ISI=2)
    results.append(expi.run(i))
        ## The loop counter is used to 
        ## give each iteration a unique name
</code></pre>

<p>Giving you a list full of results, one for each experiment.</p>

<p>To store these results to disk in one big hdf5 file.</p>

<pre><code>simfMRI.io.write_HDF(results)
</code></pre>

<p>Or to plot a histogram of each of the predictor&#8217;s t-values.</p>

<pre><code>simfMRI.plot.hist_t(results)
</code></pre>
